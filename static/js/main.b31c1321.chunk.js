(this["webpackJsonpdnd-todoapp"]=this["webpackJsonpdnd-todoapp"]||[]).push([[0],{26:function(n,e,t){},33:function(n,e,t){"use strict";t.r(e);var i,r,c,a,o,d,l,u,s,p,b,f,j,x,h,O,v,g,y=t(0),m=t.n(y),k=t(9),w=t.n(k),S=t(4),C=(t(26),t(5)),F=t(6),I=Symbol(),E=function(n){return new Proxy(n,{construct:function(n,e,t){return n.prototype!==t.prototype?Reflect.construct(n,e,t):(n[I]||(n[I]=Reflect.construct(n,e,t)),n[I])}})},N=function(){function n(){Object(C.a)(this,n)}return Object(F.a)(n,null,[{key:"deepCopy",value:function(n){return JSON.parse(JSON.stringify(n))}}]),n}(),J=t(34),L=E(i=function(){function n(e){Object(C.a)(this,n),this.stateFunction=void 0,this.stateFunction=e}return Object(F.a)(n,[{key:"addCard",value:function(n){this.stateFunction((function(e){var t=N.deepCopy(e),i={id:Object(J.a)(),list_id:n,value:""};return t.push(i),t}))}},{key:"updateCard",value:function(n){this.stateFunction((function(e){var t=N.deepCopy(e),i=t.findIndex((function(e){return e.id===n.id}));return t[i]=n,t}))}},{key:"deleteCard",value:function(n){this.stateFunction((function(e){return N.deepCopy(e).filter((function(e){return e.id!==n.id}))}))}},{key:"deleteCardByList",value:function(n){this.stateFunction((function(e){return N.deepCopy(e).filter((function(e){return e.list_id!==n}))}))}}]),n}())||i,_=E(r=function(){function n(e){Object(C.a)(this,n),this.stateFunction=void 0,this.stateFunction=e}return Object(F.a)(n,[{key:"changeName",value:function(n){this.stateFunction((function(e){var t=N.deepCopy(e);return t.name=n,t}))}},{key:"changeColor",value:function(n){this.stateFunction((function(e){var t=N.deepCopy(e);return t.bg_color=n,t}))}}]),n}())||r,B=t(20),R=E(c=function(){function n(e){Object(C.a)(this,n),this.stateFunction=void 0,this.stateFunction=e}return Object(F.a)(n,[{key:"addList",value:function(n){this.stateFunction((function(e){return[].concat(Object(B.a)(N.deepCopy(e)),[{id:Object(J.a)(),name:n}])}))}},{key:"updateList",value:function(n){this.stateFunction((function(e){var t=N.deepCopy(e),i=t.findIndex((function(e){return e.id===n.id}));return t[i]=n,t}))}},{key:"deleteList",value:function(n){this.stateFunction((function(e){return N.deepCopy(e).filter((function(e){return e.id!==n.id}))}))}}]),n}())||c,D=t(2),z=t(3),K=t(1),P=z.a.div(a||(a=Object(D.a)(["\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n"]))),A=z.a.div(o||(o=Object(D.a)(['\n  display: inline-flex;\n  justify-content: space-between;\n  align-items: center;\n  \n  & > * {\n    margin: 0;\n    padding: 15px;\n    cursor: pointer;\n    \n    &:hover {\n      opacity: 0.8;\n    }\n  }\n  \n  & > input[type="color"] {\n    border-radius: 100%;\n    height: 30px;\n    width: 30px;\n    border: none;\n    padding: 2px;\n    margin: 15px;\n  \n    &::-webkit-color-swatch-wrapper {\n      padding: 0px;\n      border-radius: 100%;\n    }\n\n    &::-webkit-color-swatch {\n      padding: 0px;\n      border-radius: 100%;\n    }\n  }\n  \n']))),H=z.a.input(d||(d=Object(D.a)(["\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  padding: 15px;\n  color: white;\n  border: none;\n  background: transparent;\n  font-weight: bold;\n\n  &:focus {\n    outline: 0;\n  }\n"]))),V=z.a.div(l||(l=Object(D.a)(["\n  flex: 1;\n  display: inline-flex;\n  padding: 0 15px 15px;\n  overflow-x: auto;\n"]))),M=function(n){var e,t=n.data,i=n.boardService,r=n.children,c=Object(y.useState)(!1),a=Object(S.a)(c,2),o=a[0],d=a[1],l=Object(y.useRef)(null),u=function(){""!==l.current.value.trim()&&(i.changeName(l.current.value),d(!1))};return Object(K.jsxs)(P,{style:{background:t.bg_color,color:(e=t.bg_color,parseInt(e.replace("#",""),16)>8388607.5?"#000":"#fff")},children:[Object(K.jsxs)(A,{children:[o?Object(K.jsx)(H,{type:"text",ref:l,defaultValue:t.name,onBlur:u,onKeyDown:function(n){"Enter"!==n.key&&"Escape"!==n.key||u()}}):Object(K.jsx)("h2",{onDoubleClick:function(){return d(!0)},children:t.name}),Object(K.jsx)("input",{type:"color",value:t.bg_color,onChange:function(n){return i.changeColor(n.target.value)}})]}),Object(K.jsx)(V,{children:r})]})},T=t(8),W=t(7),q=t(11),G=z.a.div(u||(u=Object(D.a)(["\n  min-width: 280px;\n  max-width: 280px;\n  background: #ebecf0;\n  border-radius: 3px;\n\n  /* Enables Scroll on CardWrapper */\n  position: relative;\n  height: 100%;\n\n  & ~ & {\n    margin-left: 15px;\n  }\n"]))),Q=z.a.div(s||(s=Object(D.a)(["\n  position: absolute;\n  width: 100%;\n  /*   Top: 40 for header */\n  top: 40px;\n  /*   Bottom: 45 for button */\n  bottom: 45px;\n  overflow-y: auto;\n\n\n  /* width */\n\n  &::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  /* Track */\n\n  &::-webkit-scrollbar-track {\n    background: #f1f1f1;\n  }\n\n  /* Handle */\n\n  &::-webkit-scrollbar-thumb {\n    background: #c4c4c4;\n  }\n"]))),U=z.a.h4(p||(p=Object(D.a)(["\n  padding: 10px;\n  margin: 0;\n  cursor: pointer;\n  color: black;\n  \n  & > div {\n    \n    & > div:first-child:hover {\n      opacity: 0.8;\n    }\n    \n    & > div:last-child:hover {\n      opacity: 0.8;\n    }\n  }\n  \n  &:hover > * div:last-child {\n    color: black;\n    transition: all 500ms;\n    opacity: 1;\n  \n"]))),X=z.a.input(b||(b=Object(D.a)(["\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  padding: 0;\n  font-weight: bold;\n  border: none;\n  background: transparent;\n\n  &:focus {\n    outline: 0;\n  }\n"]))),Y=z.a.button(f||(f=Object(D.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  border: none;\n  background: lightgray;\n  padding: 15px;\n  cursor: pointer;\n  border-radius: 0 0 3px 3px;\n\n  &:hover {\n    opacity: 0.8;\n  }\n"]))),Z=z.a.div(j||(j=Object(D.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  & > *:last-of-type {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 5px 0 15px;\n    color: #ebecf0;\n    opacity: 0;\n  }\n\n"]))),$=function(n){var e=n.data,t=n.children,i=n.cardService,r=n.listService,c=Object(y.useState)(!1),a=Object(S.a)(c,2),o=a[0],d=a[1],l=Object(y.useRef)(null),u=function(){""!==l.current.value.trim()&&(e.name=l.current.value,r.updateList(e),d(!1))};return Object(K.jsxs)(G,{children:[Object(K.jsx)(U,{onDoubleClick:function(){return d(!0)},children:o?Object(K.jsx)(X,{type:"text",ref:l,defaultValue:e.name,onBlur:u,onKeyDown:function(n){"Enter"!==n.key&&"Escape"!==n.key||u()}}):Object(K.jsxs)(Z,{children:[Object(K.jsx)("div",{children:e.name}),Object(K.jsx)("div",{onClick:function(){r.deleteList(e),i.deleteCardByList(e.id)},children:Object(K.jsx)(W.b,{})})]})}),Object(K.jsx)(q.c,{droppableId:e.id,children:function(n){return Object(K.jsxs)(Q,Object(T.a)(Object(T.a)({},n.droppableProps),{},{ref:n.innerRef,children:[t,n.placeholder]}))}}),Object(K.jsx)(Y,{onClick:function(){return i.addCard(e.id)},children:"Add Card +"})]})},nn=z.a.div(x||(x=Object(D.a)(["\n  background: white;\n  margin: 0 5px 5px;\n  padding: 10px;\n  border-radius: 3px;\n  overflow-wrap: break-word;\n  color: black;\n  box-shadow: 0 1px 5px 0 #787878FF;\n\n  & ~ & {\n    margin-top: 5px;\n  }\n\n  &:hover > * div:last-of-type {\n    color: black;\n    transition: all 500ms;\n\n  }\n"]))),en=z.a.textarea(h||(h=Object(D.a)(["\n  font-family: inherit;\n  font-size: inherit;\n  border: none;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 15px;\n  display: block;\n  overflow: hidden;\n  resize: none;\n\n  &:focus {\n    outline: 0;\n  }\n"]))),tn=z.a.div(O||(O=Object(D.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  & > *:last-child {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n    padding: 0 5px 0 15px;\n    cursor: pointer;\n  }\n\n"]))),rn=function(n){var e=n.data,t=n.cardService,i=n.index,r=Object(y.useState)(""===e.value),c=Object(S.a)(r,2),a=c[0],o=c[1],d=Object(y.useRef)(null);Object(y.useEffect)((function(){a&&l()}),[a]);var l=function(){var n=d.current;n.style.height="auto",n.style.height=(null===n||void 0===n?void 0:n.scrollHeight)+"px"},u=function(){if(""===d.current.value.trim())return t.deleteCard(e);o(!1),e.value=d.current.value,t.updateCard(e)},s=function(n){"Enter"!==n.key&&"Escape"!==n.key||u()};return Object(K.jsx)(q.b,{draggableId:e.id,index:i,children:function(n){return Object(K.jsx)(nn,Object(T.a)(Object(T.a)(Object(T.a)({},n.draggableProps),n.dragHandleProps),{},{ref:n.innerRef,children:a?Object(K.jsxs)(tn,{children:[Object(K.jsx)(en,{autoFocus:!0,ref:d,defaultValue:e.value,onKeyDown:s,onChange:l,onBlur:u}),Object(K.jsx)("div",{onClick:function(){return t.deleteCard(e)},children:Object(K.jsx)(W.b,{})})]}):Object(K.jsxs)(tn,{children:[Object(K.jsx)("div",{children:e.value}),Object(K.jsx)("div",{onClick:function(){return o(!0)},children:Object(K.jsx)(W.a,{})})]})}))}})},cn=z.a.div(v||(v=Object(D.a)(["\n  width: 280px;\n  border: none;\n  background: #ebecf0;\n  color: black;\n  border-radius: 3px;\n  flex: none;\n  align-self: flex-start;\n  display: flex;\n  \n  & > * {\n    padding: 15px;\n  }\n\n  & > span {\n    flex: 1;\n    text-align: center;\n    cursor: pointer;\n  }\n  \n  &:hover > span {\n    opacity: 0.8;\n  }\n  \n  * ~ & {\n    margin-left: 15px;\n  }\n\n"]))),an=z.a.div(g||(g=Object(D.a)(["\n  display: flex;\n  flex: 1;\n  flex-flow: column;\n\n  & > input {\n    border: steelblue 2px solid;\n    font-family: inherit;\n    font-size: inherit;\n    color: black;\n    display: flex;\n    flex: 1;\n    background: white;\n    padding: 10px;\n    border-radius: 3px;\n    overflow-wrap: break-word;\n    cursor: pointer;\n\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  & > div {\n    margin-top: 10px;\n    display: flex;\n    align-items: center;\n\n    & > * {\n      cursor: pointer;\n    }\n\n    & > *:hover {\n      opacity: 0.8;\n    }\n\n    & > *:first-child {\n      border: none;\n      background: lightgray;\n      padding: 10px;\n      border-radius: 0 0 3px 3px;\n    }\n\n    & > *:last-child {\n      height: auto;\n      width: 1.8em;\n    }\n  }\n"])));var on,dn,ln,un=function(n){var e=n.listService,t=Object(y.useState)(!1),i=Object(S.a)(t,2),r=i[0],c=i[1],a=Object(y.useRef)(null),o=function(){""!==a.current.value&&(e.addList(a.current.value),c(!1))};return Object(K.jsx)(cn,{onClick:function(){r||c(!0)},children:r?Object(K.jsxs)(an,{children:[Object(K.jsx)("input",{type:"text",ref:a,onKeyDown:function(n){"Enter"===n.key&&o()}}),Object(K.jsxs)("div",{children:[Object(K.jsx)("button",{onClick:o,children:"Create List"}),Object(K.jsx)(W.c,{onClick:function(){c(!1)}})]})]}):Object(K.jsx)("span",{children:"Add List +"})})};var sn=function(){var n=Object(y.useState)({name:"Board name",bg_color:"#282828"}),e=Object(S.a)(n,2),t=e[0],i=e[1],r=Object(y.useState)([]),c=Object(S.a)(r,2),a=c[0],o=c[1],d=Object(y.useState)([]),l=Object(S.a)(d,2),u=l[0],s=l[1];return Object(y.useEffect)((function(){on=new _(i),dn=new R(o),ln=new L(s)}),[t,u,a]),Object(y.useEffect)((function(){var n=localStorage.getItem("boardState"),e=localStorage.getItem("listsState"),t=localStorage.getItem("cardsState");n&&i(JSON.parse(n)),e&&o(JSON.parse(e)),t&&s(JSON.parse(t)),n||window.location.reload()}),[]),Object(y.useEffect)((function(){localStorage.setItem("boardState",JSON.stringify(t)),localStorage.setItem("listsState",JSON.stringify(a)),localStorage.setItem("cardsState",JSON.stringify(u))}),[t,a,u]),Object(K.jsx)("div",{className:"App",children:Object(K.jsxs)(M,{data:t,boardService:on,children:[Object(K.jsx)(q.a,{onDragEnd:function(n){var e=n.draggableId,t=n.source,i=n.destination;i&&(i.index===t.index&&i.droppableId===t.droppableId||s((function(n){var r=N.deepCopy(n),c=r.find((function(n){return n.id===e}));return c.list_id=i.droppableId,r.splice(t.index,1),r.splice(i.index,0,c),r})))},children:a.map((function(n){return Object(K.jsx)($,{data:n,cardService:ln,listService:dn,children:u.flatMap((function(e,t){return e.list_id===n.id?Object(K.jsx)(rn,{data:e,cardService:ln,index:t},e.id):""}))},n.id)}))}),Object(K.jsx)(un,{listService:dn})]})})};w.a.render(Object(K.jsx)(m.a.StrictMode,{children:Object(K.jsx)(sn,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b31c1321.chunk.js.map